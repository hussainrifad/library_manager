{% extends 'base.html' %}
{% block title %} detail {% endblock %}

{% block content %}
<div class="border border-indigo-300 p-2 rounded-2xl hover:shadow-xl hover:shadow-indigo-50 flex flex-col md:flex-row items-center">
    <div class="md:w-2/3">
        <img 
        {% if book.image %}
        src="{{book.image.url}}"
        {% else %}
        src=""
        {% endif %}
        class="shadow rounded-lg overflow-hidden border">
    </div>
    <div class="mt-8 md:w-1/2 md:mx-10">
        <h4 class="font-bold text-xl">{{book.name}}</h4>
        <p class="mt-2 text-gray-600">{{book.description|truncatewords:50}}
        </p>
        <div class="text-sm my-3">
            <p>{{book.price}} $ </p>
            <p> Category : <span class="border px-2 rounded-lg bg-gray-300">{{book.category.title}}</span></p>
            <p> Author : {{book.author}}</p>
        </div>
        {% if user.is_authenticated %}
        <div class="mt-5 mb-5">
            {% if borrowed %}
            <a type="button" class="inline-flex items-center rounded-md border border-transparent bg-gray-500 px-3 py-2 text-sm font-medium leading-4 text-white shadow-sm hover:bg-gray-900">Borrowed Already</a>
            {% else %}
            <a href="{% url 'borrowbook' book.id %}" type="button" class="inline-flex items-center rounded-md border border-transparent bg-gray-800 px-3 py-2 text-sm font-medium leading-4 text-white shadow-sm hover:bg-gray-900">Borrow</a>
            {% endif %}
        </div>
        {% endif %}
    </div>
</div>
<div class="my-10">
    {% if borrowed %}
    <a href="{% url 'review' book.id %}" type="button" class="inline-flex items-center rounded-md border border-transparent bg-gray-800 px-3 py-2 text-sm font-medium leading-4 text-white shadow-sm hover:bg-gray-900">Add a review</a>
    {% endif %}
</div>
{% endblock %}